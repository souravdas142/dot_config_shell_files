#
# ~/.bash_profile
#

[[ -f ~/.bashrc ]] && . ~/.bashrc

count=0
while :
do

count=$( expr $count + 1 )
echo "trying to startX $count"

if systemctl -q is-active graphical.target &&  [[ ! $DISPLAY && $XDG_VTNR -eq 1 ]]; then

	echo "starting startX......($count)"
	exec startx 
	flag2=$?
	if [ $flag2 -eq 0 ]; then
		echo "executed startX..."
		break
	fi

elif [ $DISPLAY ]; then
	break
fi

done
